{"version":3,"sources":["webpack://VueMediaBreakPointsPlugin/webpack/universalModuleDefinition","webpack://VueMediaBreakPointsPlugin/webpack/bootstrap","webpack://VueMediaBreakPointsPlugin/./listener.ts","webpack://VueMediaBreakPointsPlugin/./index.ts","webpack://VueMediaBreakPointsPlugin/./breakpoint.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","supportsCaptureOption","test","opts","[object Object]","addEventListener","e","createSafetyEventListenerOptions","options","capture","addEventListenerWithOptions","target","type","listener","removeEventListenerWithOptions","removeEventListener","breakpoint_1","BreakPointManager","getClientWidth","default","install","listener_1","_Vue","this","bpKeys","keys","breakPoints","sort","a","b","setupVM","setupEventListener","updateBreakPoint","vm","$data","width","bp","data","document","callback","debounceFunction","debounceInterval","clientWidth","newBreakPoint","reduce","acc","index","bpWidth","setBreakPoint","Math","max","documentElement","innerWidth","InjectedVue","bpm","mixin","$bp"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"VueMediaBreakPointsPlugin\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VueMediaBreakPointsPlugin\"] = factory();\n\telse\n\t\troot[\"VueMediaBreakPointsPlugin\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/**\n * Used to detect browser support for adding an event listener with options\n * Credit: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n */\n\nexport const supportsCaptureOption = (() => {\n  let test = false;\n\n  try {\n    const opts = Object.defineProperty({}, 'capture', {\n      get() {\n        test = true;\n      }\n    });\n    window.addEventListener('test', null as any, opts);\n  } catch (e) {} /* tslint:disable-line no-empty */\n\n  return test;\n})();\n\n/**\n * Helper to create a safety event listener options\n *\n */\nexport const createSafetyEventListenerOptions = (\n  options?: boolean | AddEventListenerOptions\n) => {\n  return !supportsCaptureOption && typeof options === 'object'\n    ? options.capture\n    : options;\n};\n\n/**\n * Helper to add an event listener with an options object in supported browsers\n */\nexport const addEventListenerWithOptions = (\n  target: Window | Element,\n  type: string,\n  listener: EventListenerOrEventListenerObject,\n  options?: boolean | AddEventListenerOptions\n) => {\n  target.addEventListener(\n    type,\n    listener,\n    createSafetyEventListenerOptions(options)\n  );\n};\n\n/**\n * Helper to remove an event listener with an options object in supported browsers\n */\nexport const removeEventListenerWithOptions = (\n  target: Element,\n  type: string,\n  listener: EventListenerOrEventListenerObject,\n  options?: boolean | AddEventListenerOptions\n) => {\n  target.removeEventListener(\n    type,\n    listener,\n    createSafetyEventListenerOptions(options)\n  );\n};\n","export {\n  BreakPoint,\n  BreakPointListener,\n  BreakPointManager,\n  BreakPointManagerOptions,\n  BreakPointsOption,\n  getClientWidth,\n  install as default,\n  PluginOptions\n} from './breakpoint';\nexport {\n  addEventListenerWithOptions,\n  createSafetyEventListenerOptions,\n  removeEventListenerWithOptions,\n  supportsCaptureOption\n} from './listener';\n","import Vue from 'vue';\nimport { addEventListenerWithOptions } from './listener';\n\nlet _Vue: typeof Vue; // tslint:disable-line variable-name\n\nexport interface BreakPointsOption {\n  [key: string]: number;\n}\n\nexport interface BreakPoint {\n  name: string | null;\n  width: number;\n}\n\nexport type BreakPointListener = (breakPoint: BreakPoint) => any;\n\nexport interface BreakPointManagerOptions {\n  breakPoints: BreakPointsOption;\n  debounceFunction?: <T extends BreakPointListener>(\n    listener: T,\n    interval: number\n  ) => T;\n  debounceInterval?: number;\n}\n\nexport class BreakPointManager {\n  private vm!: Vue & { $data: BreakPoint };\n  private bpKeys: string[];\n\n  constructor(private options: BreakPointManagerOptions) {\n    this.bpKeys = Object.keys(this.options.breakPoints).sort((a, b) => {\n      if (this.options.breakPoints[a] < this.options.breakPoints[b]) {\n        return -1;\n      }\n      if (this.options.breakPoints[a] > this.options.breakPoints[b]) {\n        return 1;\n      }\n      return 0;\n    });\n    this.setupVM();\n    this.setupEventListener();\n    this.updateBreakPoint();\n  }\n\n  public get name() {\n    return this.vm.$data.name;\n  }\n\n  public get width() {\n    return this.vm.$data.width;\n  }\n\n  private setBreakPoint(bp: BreakPoint): void {\n    this.vm.$data.name = bp.name;\n    this.vm.$data.width = bp.width;\n  }\n\n  private setupVM(): void {\n    this.vm = new _Vue({\n      data: { name: '', width: -1 }\n    }) as Vue & { $data: BreakPoint };\n  }\n\n  private setupEventListener(): void {\n    if (typeof document === 'undefined') {\n      return;\n    }\n\n    const callback = this.options.debounceFunction\n      ? this.options.debounceFunction(\n          this.updateBreakPoint,\n          this.options.debounceInterval || 16\n        )\n      : this.updateBreakPoint;\n\n    addEventListenerWithOptions(window, 'resize', callback.bind(this));\n  }\n\n  private updateBreakPoint(): void {\n    const clientWidth = getClientWidth();\n\n    const newBreakPoint = this.bpKeys.reduce(\n      (acc: BreakPoint, name, index) => {\n        const bpWidth = this.options.breakPoints[name];\n\n        if (bpWidth < clientWidth) {\n          return {\n            name,\n            width: bpWidth\n          };\n        }\n\n        return acc;\n      },\n      { name: '', width: -1 }\n    );\n\n    if (this.name !== newBreakPoint.name) {\n      this.setBreakPoint(newBreakPoint);\n    }\n  }\n}\n\nexport function getClientWidth() {\n  if (typeof document === 'undefined') {\n    return 0;\n  }\n\n  return Math.max(\n    document.documentElement ? document.documentElement.clientWidth : 0,\n    window.innerWidth || 0\n  );\n}\n\nexport type PluginOptions = BreakPointManagerOptions;\n\nexport function install(InjectedVue: typeof Vue, options: PluginOptions): void {\n  if (process.env.NODE_ENV !== 'production' && _Vue) {\n    throw new Error(\n      '[vue-media-breakpoints] Vue Media Break-Points is already installed'\n    );\n  }\n\n  _Vue = InjectedVue;\n\n  const bpm = new BreakPointManager(options);\n\n  _Vue.mixin({\n    beforeCreate(this: Vue): void {\n      type Component = Vue & {\n        $bp: BreakPointManager;\n        $parent: Component;\n      };\n      const vm = this as Component;\n\n      vm.$bp = bpm;\n    }\n  });\n}\n"],"sourceRoot":""}